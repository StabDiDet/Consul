<% description = local_assigns.fetch(:description, "") %>
<% description = truncate(ActionView::Base.full_sanitizer.sanitize(description), length: 140) %>
<% mobile = local_assigns[:mobile] %>
<% mobile_url = mobile.present? ? "#{mobile.gsub(/\s+/, "%20")}%20" : "" %>

<% if local_assigns[:share_title].present? %>
  <div id="social-share" class="sidebar-divider show-on-desktop"></div>
  <p class="sidebar-title"><%= share_title %></p>
<% end %>

<div class="social-share-full">
  <div class='social-share-button'>
    <%= link_to "whatsapp://send?text=#{ title } #{ url }", class: 'ssb-icon ssb-whatsapp', data: {site: "whatsapp"}, title: t('social_share_button.share_to_whatsup_title')  do %>
      <span class="show-for-sr">whatsapp</span>
    <% end %>
  </div>
  <%= social_share_button_tag("#{title} #{setting["twitter_hashtag"]} #{setting["twitter_handle"]}",
                              url: local_assigns[:url],
                              image: local_assigns.fetch(:image_url, ""),
                              desc: local_assigns[:description],
                              "data-twitter-title": local_assigns[:mobile],
                              "data-telegram-title": local_assigns[:mobile]) %>

</div>
